<div id="search-results-returned">
  <% if @image_cores.present? %>
    <!-- Toggle Buttons -->
    <div class="flex justify-center space-x-4 my-4">
      <button 
        id="list-view-btn"
        class="px-4 py-2 text-white bg-blue-500 rounded-lg hover:bg-blue-600">
        List View
      </button>
      <button 
        id="grid-view-btn"
        class="px-4 py-2 text-white bg-green-500 rounded-lg hover:bg-green-600">
        Grid View
      </button>
    </div>

    <!-- List View -->
    <div 
      class="flex flex-col content-center items-center justify-center w-full h-full mt-4" 
      id="index_image_cores">
      <% @image_cores.each do |image_core| %>
        <%= link_to image_core do %>
          <div class="transition-transform duration-300 transform hover:scale-105 text-black dark:text-white bg-slate-200 dark:bg-slate-700 p-2 rounded-2xl w-auto flex m-5">
            <%= render partial: "image_core", locals: { image_core: image_core } %>
          </div>
        <% end %>
      <% end %>
    </div>

    <!-- Grid View (hidden by default) -->
    <div 
      class="hidden grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mt-4" 
      id="grid_image_cores">
      <% @image_cores.each do |image_core| %>
        <%= link_to image_core do %>
          <div class="transition-transform duration-300 transform hover:scale-105 text-black dark:text-white bg-slate-200 dark:bg-slate-700 p-2 rounded-2xl">
            <%= render partial: "image_core", locals: { image_core: image_core } %>
          </div>
        <% end %>
      <% end %>
    </div>
  <% else %>
    <%= render 'image_cores/no_search_results' %>
  <% end %>
</div>

<!-- JavaScript to Toggle Views (Placed within the ERB) -->
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const listView = document.getElementById("index_image_cores");
    const gridView = document.getElementById("grid_image_cores");
    const listViewButton = document.getElementById("list-view-btn");
    const gridViewButton = document.getElementById("grid-view-btn");

    // Show List View
    listViewButton.addEventListener("click", function() {
      listView.classList.remove("hidden");
      gridView.classList.add("hidden");
    });

    // Show Grid View
    gridViewButton.addEventListener("click", function() {
      listView.classList.add("hidden");
      gridView.classList.remove("hidden");
    });
  });
</script>
